<!DOCTYPE html>

<body>
  <script>
    function parseEvent(e) {
      const outEvent = {}
      outEvent.type = e.type
      outEvent.pointerType = 'touch'
      outEvent.touches = []
      if ('touches' in e) {
        for (let x = 0; x < e.touches.length; x++) {
          const touch = e.touches[x]
          const newTouch = {
            pageX: touch.pageX * window.devicePixelRatio,
            pageY: touch.pageY * window.devicePixelRatio,
          }
          if ('force' in touch) {
            newTouch.force = touch.force
          }
          outEvent.touches.push(newTouch)
        }
      }
      return outEvent
    }
    for (ev of ['touchmove', 'touchstart', 'touchend', 'touchcancel',
      'gesturestart',
      'gesturechange',
      'gestureend',
    ]) {
      document.addEventListener(ev, (e) => window.ReactNativeWebView.postMessage(JSON.stringify(parseEvent(e))))
    }
  </script>
</body>